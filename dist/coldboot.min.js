window.coldboot=function(){var t="cb-await",e="cb-await-id",n="cb-route",i="cb-persist",r="cb-await-loader",o="cb-await-text",a={},u=void 0,c=void 0,d=void 0;function s(n){var i,a=function(n){var i=n.getAttributeNames();if(i.indexOf(t)>=0&&i.indexOf(e)>=0)return{isAwait:!0,target:n};for(var r=document.querySelectorAll("[cb-await]"),o=0;o<r.length;o++)if(r[o].contains(n))return{isAwait:!0,target:r[o]};return{isAwait:!1}}(n.target);if(a.isAwait){var c=a.target.getAttribute(t);u=a.target.getAttribute(e),i=c||"Loading",document.getElementById(r).style.display="block",document.getElementById(o).innerText=i}}function l(t){var e=function(t){if(t.getAttributeNames().indexOf(n)>=0)return{isRoute:!0,target:t};for(var e=document.querySelectorAll("[cb-route]"),i=0;i<e.length;i++)if(e[i].contains(t))return{isRoute:!0,target:e[i]};return{isRoute:!1}}(t.target);e.isRoute&&(window.location.href=e.target.getAttribute(n))}function f(t){var e,n,r=t.target;if(r.getAttributeNames().indexOf(i)>=0){var o=r.getAttribute(i);e=o,n=r.value,a[e]=n}}function v(){document.querySelectorAll("[cb-persist]").forEach((function(t){var e=t.getAttribute(i),n=a[e]||"";""!==n&&(t.value=n,["focus","input","change","keypress","keydown","keyup","blur"].forEach((function(e){!function(t,e){var n=new Event(e,{bubbles:!0,cancelable:!1});t.dispatchEvent(n)}(t,e)})))}))}function g(t){s(t),l(t)}return{init:function(t,e){t&&(r=t),e&&(o=e),document.addEventListener("click",g),document.addEventListener("input",f)},complete:function(){return document.getElementById(r).style.display="none",document.removeEventListener("click",g),document.removeEventListener("input",f),v(),u&&c&&c({preserve:a,awaitId:u}),{preserve:a,awaitId:u}},onComplete:(d||(d=new Promise((function(t,e){c=t,e}))),d)}}();